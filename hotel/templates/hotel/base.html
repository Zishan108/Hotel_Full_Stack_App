<!DOCTYPE html>
{% load static %}
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>
      {% block title %}{{ hotel.name }} - Luxury Hotel & Resort{% endblock %}
    </title>
    <meta
      name="description"
      content="{% block meta_description %}{{ hotel.name }} - {{ hotel.tagline }} | Luxury accommodations, fine dining, wedding venues, and banquet halls. Experience premium hospitality.{% endblock %}"
    />
    <meta
      name="keywords"
      content="{% block meta_keywords %}luxury hotel, resort, accommodation, fine dining, wedding venue, banquet hall, {{ hotel.name }}, hospitality{% endblock %}"
    />
    <meta name="author" content="{{ hotel.name }}" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />

    <!-- Canonical URL -->
    <link
      rel="canonical"
      href="{% block canonical_url %}{{ request.build_absolute_uri }}{% endblock %}"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="{% block og_title %}{{ hotel.name }} - Luxury Hotel & Resort{% endblock %}"
    />
    <meta
      property="og:description"
      content="{% block og_description %}{{ hotel.tagline }} | Experience premium hospitality at {{ hotel.name }}{% endblock %}"
    />
    <meta
      property="og:image"
      content="{% block og_image %}{% if hotel.thumbnail %}{{ hotel.thumbnail.url }}{% else %}{% static 'images/og-default.jpg' %}{% endif %}{% endblock %}"
    />
    <meta property="og:url" content="{{ request.build_absolute_uri }}" />
    <meta property="og:site_name" content="{{ hotel.name }}" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="{% block twitter_title %}{{ hotel.name }} - Luxury Hotel & Resort{% endblock %}"
    />
    <meta
      name="twitter:description"
      content="{% block twitter_description %}{{ hotel.tagline }} | Premium hospitality experience{% endblock %}"
    />
    <meta
      name="twitter:image"
      content="{% block twitter_image %}{% if hotel.thumbnail %}{{ hotel.thumbnail.url }}{% else %}{% static 'images/twitter-default.jpg' %}{% endif %}{% endblock %}"
    />

    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Hotel",
        "name": "{{ hotel.name }}",
        "description": "{{ hotel.tagline }}",
        "url": "{{ request.build_absolute_uri }}",
        "logo": "{% if hotel.logo %}{{ hotel.logo.url }}{% endif %}",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "{{ hotel.address|striptags|truncatewords:10 }}",
          "addressLocality": "{{ hotel.city|default:'City' }}",
          "addressRegion": "{{ hotel.state|default:'State' }}",
          "postalCode": "{{ hotel.zip_code|default:'00000' }}",
          "addressCountry": "{{ hotel.country|default:'Country' }}"
        },
        "telephone": "{{ hotel.phone }}",
        "email": "{{ hotel.email }}",
        "image": "{% if hotel.thumbnail %}{{ hotel.thumbnail.url }}{% endif %}",
        "priceRange": "$$$",
        "starRating": {
          "@type": "Rating",
          "ratingValue": "5"
        },
        "amenityFeature": [
          {
            "@type": "LocationFeatureSpecification",
            "name": "Free WiFi"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Swimming Pool"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Spa"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Restaurant"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Room Service"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Fitness Center"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Conference Rooms"
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Parking"
          }
        ],
        "sameAs": [
          "https://www.facebook.com/{{ hotel.slug }}",
          "https://www.instagram.com/{{ hotel.slug }}",
          "https://www.twitter.com/{{ hotel.slug }}"
        ]
      }
    </script>

    <!-- External CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'images/favicon.ico' %}"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{% static 'images/apple-touch-icon.png' %}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{% static 'images/favicon-32x32.png' %}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{% static 'images/favicon-16x16.png' %}"
    />
    <link rel="stylesheet" href="{% static 'css/base.css' %}" />
    <link rel="manifest" href="{% static 'manifest.json' %}" />
    <meta name="theme-color" content="#5a1f5a" />

    <!-- Mobile App Meta -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <!-- SEO Script -->
    <script src="{% static 'js/storage.js' %}" defer></script>

    {% block extra_css %}{% endblock %}
  </head>

  <body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link" tabindex="0"
      >Skip to main content</a
    >

    <!-- Navigation with ARIA labels -->
    <nav
      id="navbar"
      class="navbar navbar-expand-lg"
      role="navigation"
      aria-label="Main navigation"
    >
      <div class="container-fluid">
        <div class="navbar-left">
          <ul class="navbar-nav" role="menubar">
            <li class="nav-item" id="hotels-nav-item" role="none">
              <a
                class="nav-link"
                href="#"
                role="button"
                id="hotels-dropdown-toggle"
                aria-haspopup="true"
                aria-expanded="false"
              >
                <i class="fas fa-map-marker-alt me-1" aria-hidden="true"></i>
                <span>Hotels</span>
              </a>
            </li>
            <li class="nav-item" role="none">
              <a
                class="nav-link"
                href="{% url 'home_with_slug' hotel.slug %}"
                aria-current="page"
                >Home</a
              >
            </li>
            <li class="nav-item dropdown" role="none">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                id="restaurantDropdown"
              >
                Restaurant
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="restaurantDropdown"
                role="menu"
              >
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Fine Dining</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Casual Dining</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Room Service</a
                  >
                </li>
              </ul>
            </li>
          </ul>
        </div>

        <!-- Brand Logo with H1 -->
        <a
          class="navbar-brand mx-auto"
          href="{% url 'home_with_slug' hotel.slug %}"
          itemprop="url"
        >
          <h1 class="h3 mb-0" itemprop="name">{{ hotel.name }}</h1>
          <span class="sr-only">- Luxury Hotel & Resort</span>
        </a>

        <div class="navbar-right">
          <ul class="navbar-nav" role="menubar">
            <li class="nav-item dropdown" role="none">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                id="banquetDropdown"
              >
                Banquet
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="banquetDropdown"
                role="menu"
              >
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Small Hall</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Medium Hall</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Grand Hall</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown" role="none">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                id="weddingDropdown"
              >
                Wedding
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="weddingDropdown"
                role="menu"
              >
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Indoor Venue</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Outdoor Venue</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Rooftop Venue</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown" role="none">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                id="roomsDropdown"
              >
                Rooms
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="roomsDropdown"
                role="menu"
              >
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Standard Room</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem"
                    >Deluxe Room</a
                  >
                </li>
                <li role="none">
                  <a class="dropdown-item" href="#" role="menuitem">Suite</a>
                </li>
              </ul>
            </li>
            <li class="nav-item" role="none">
              <button class="btn px-4 py-2 nav-book-btn" aria-label="Book Now">
                Book Now
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Breadcrumb Navigation -->

    <!-- Main Content -->
    <main id="main-content" tabindex="-1" role="main">
      {% block content %}{% endblock %}
    </main>

    <!-- Footer with semantic markup -->
    <footer
      id="main-footer"
      role="contentinfo"
      itemscope
      itemtype="https://schema.org/LocalBusiness"
    >
      <div class="footer-container">
        <div class="footer-top">
          <div class="row align-items-center">
            <div class="col-lg-4 col-md-6">
              <div class="footer-logo">
                <h2 class="footer-brand" itemprop="name">{{ hotel.name }}</h2>
                <p class="footer-tagline" itemprop="description">
                  {{ hotel.tagline }}
                </p>
              </div>
            </div>
            <div class="col-lg-4 col-md-6 text-center">
              <div class="footer-social">
                <h3 class="social-title">Follow Us</h3>
                <div class="social-icons" role="list">
                  <a
                    href="#"
                    class="social-icon"
                    aria-label="Facebook"
                    itemprop="sameAs"
                    ><i class="fab fa-facebook-f" aria-hidden="true"></i
                  ></a>
                  <a
                    href="#"
                    class="social-icon"
                    aria-label="Twitter"
                    itemprop="sameAs"
                    ><i class="fab fa-twitter" aria-hidden="true"></i
                  ></a>
                  <a
                    href="#"
                    class="social-icon"
                    aria-label="Instagram"
                    itemprop="sameAs"
                    ><i class="fab fa-instagram" aria-hidden="true"></i
                  ></a>
                  <a
                    href="#"
                    class="social-icon"
                    aria-label="LinkedIn"
                    itemprop="sameAs"
                    ><i class="fab fa-linkedin-in" aria-hidden="true"></i
                  ></a>
                  <a
                    href="#"
                    class="social-icon"
                    aria-label="YouTube"
                    itemprop="sameAs"
                    ><i class="fab fa-youtube" aria-hidden="true"></i
                  ></a>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-12">
              <div class="footer-newsletter">
                <h3 class="newsletter-title">Subscribe to Our Newsletter</h3>
                <form
                  class="newsletter-form"
                  role="form"
                  aria-label="Newsletter subscription form"
                >
                  <input
                    type="email"
                    class="form-control"
                    placeholder="Enter your email"
                    aria-label="Email address"
                    required
                  />
                  <button class="btn newsletter-btn" type="submit">
                    Subscribe
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="footer-middle">
          <div class="row">
            <div class="col-lg-3 col-md-6 mb-4">
              <div class="footer-about">
                <h3 class="footer-section-title">About Us</h3>
                <p class="footer-about-text">
                  {{ hotel.name }} is a premier luxury hotel offering
                  exceptional hospitality and sustainable practices to deliver
                  memorable experiences.
                </p>
                <div class="footer-awards" role="list">
                  <div class="award-item" role="listitem">üèÜ 5-Star Luxury</div>
                  <div class="award-item" role="listitem">üåø Eco-Certified</div>
                  <div class="award-item" role="listitem">
                    ‚≠ê Traveler's Choice
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3 col-md-6 mb-4">
              <div class="footer-links">
                <h3 class="footer-section-title">Quick Links</h3>
                <ul class="footer-links-list" role="list">
                  <li role="listitem">
                    <a href="{% url 'home_with_slug' hotel.slug %}"
                      ><i class="fas fa-chevron-right"></i> Home</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#rooms-and-suites"
                      ><i class="fas fa-chevron-right"></i> Rooms & Suites</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#restaurant"
                      ><i class="fas fa-chevron-right"></i> Restaurant</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#banquet-halls"
                      ><i class="fas fa-chevron-right"></i> Banquet Halls</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#wedding-venues"
                      ><i class="fas fa-chevron-right"></i> Wedding Venues</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#special-offers"
                      ><i class="fas fa-chevron-right"></i> Special Offers</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#gallery"
                      ><i class="fas fa-chevron-right"></i> Gallery</a
                    >
                  </li>
                  <li role="listitem">
                    <a href="#blogs-section"
                      ><i class="fas fa-chevron-right"></i> Blogs</a
                    >
                  </li>
                </ul>
              </div>
            </div>

            <div class="col-lg-3 col-md-6 mb-4">
              <div class="footer-contact">
                <h3 class="footer-section-title">Contact Us</h3>
                <address
                  class="contact-info"
                  itemprop="address"
                  itemscope
                  itemtype="https://schema.org/PostalAddress"
                >
                  <div class="contact-item">
                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                    <div>
                      <h4>Address</h4>
                      <p itemprop="streetAddress">
                        {{ hotel.address|linebreaks }}
                      </p>
                    </div>
                  </div>
                  <div class="contact-item">
                    <i class="fas fa-phone" aria-hidden="true"></i>
                    <div>
                      <h4>Phone</h4>
                      <p itemprop="telephone">{{ hotel.phone|linebreaks }}</p>
                    </div>
                  </div>
                  <div class="contact-item">
                    <i class="fas fa-envelope" aria-hidden="true"></i>
                    <div>
                      <h4>Email</h4>
                      <p itemprop="email">{{ hotel.email }}</p>
                    </div>
                  </div>
                </address>
              </div>
            </div>

            <div class="col-lg-3 col-md-6 mb-4">
              <div class="footer-features">
                <h3 class="footer-section-title">Hotel Features</h3>
                <ul class="features-list" role="list">
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-wifi" aria-hidden="true"></i>
                    <span>Free High-Speed WiFi</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-swimming-pool" aria-hidden="true"></i>
                    <span>Infinity Pool</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-spa" aria-hidden="true"></i>
                    <span>Spa & Wellness Center</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-utensils" aria-hidden="true"></i>
                    <span>Multi-Cuisine Restaurants</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-concierge-bell" aria-hidden="true"></i>
                    <span>24/7 Room Service</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-car" aria-hidden="true"></i>
                    <span>Airport Shuttle Service</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-dumbbell" aria-hidden="true"></i>
                    <span>Fitness Center</span>
                  </li>
                  <li class="feature-item" role="listitem">
                    <i class="fas fa-tree" aria-hidden="true"></i>
                    <span>Eco-Friendly Practices</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="row align-items-center">
            <div class="col-md-6">
              <div class="copyright">
                <p>
                  &copy; {% now "Y" %}
                  <span itemprop="name">{{ hotel.name }}</span>. All Rights
                  Reserved.
                </p>
                <div class="footer-links-bottom">
                  <a href="/privacy-policy" itemprop="hasPolicy"
                    >Privacy Policy</a
                  >
                  | <a href="/terms-conditions">Terms & Conditions</a> |
                  <a href="/cookie-policy">Cookie Policy</a> |
                  <a href="/sitemap.xml">Sitemap</a>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="payment-methods">
                <p class="payment-title">We Accept:</p>
                <div
                  class="payment-icons"
                  role="list"
                  aria-label="Accepted payment methods"
                >
                  <i class="fab fa-cc-visa" aria-hidden="true" title="Visa"></i>
                  <i
                    class="fab fa-cc-mastercard"
                    aria-hidden="true"
                    title="Mastercard"
                  ></i>
                  <i
                    class="fab fa-cc-amex"
                    aria-hidden="true"
                    title="American Express"
                  ></i>
                  <i
                    class="fab fa-cc-paypal"
                    aria-hidden="true"
                    title="PayPal"
                  ></i>
                  <i
                    class="fas fa-credit-card"
                    aria-hidden="true"
                    title="Credit Card"
                  ></i>
                  <i
                    class="fas fa-university"
                    aria-hidden="true"
                    title="Bank Transfer"
                  ></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Hotel Dropdown Overlay -->
    <div
      class="hotel-dropdown-overlay"
      id="hotelDropdownOverlay"
      aria-hidden="true"
    ></div>

    <!-- Hotel Dropdown Container -->
    <div
      class="hotel-dropdown-container"
      id="hotelDropdownContainer"
      role="dialog"
      aria-modal="true"
      aria-labelledby="hotelDropdownTitle"
      aria-hidden="true"
    >
      <button
        class="close-dropdown-btn"
        id="closeHotelDropdown"
        aria-label="Close hotel selection dialog"
      >
        &times;
      </button>
      <div class="hotel-dropdown-wrapper">
        <div class="hotel-list-section">
          <div class="hotel-list-header">
            <h2 id="hotelDropdownTitle">Our Hotel Locations</h2>
            <p class="text-muted mb-0" style="font-size: 0.9rem">
              Hover or click on a hotel to see preview
            </p>
          </div>
          <div class="hotel-list-scroll">
            <ul
              class="hotel-list"
              role="listbox"
              aria-label="Hotel locations list"
            >
              {% for h in all_hotels %}
              <li
                class="hotel-list-item"
                role="option"
                tabindex="0"
                data-hotel-slug="{{ h.slug }}"
                data-hotel-name="{{ h.name }}"
                data-hotel-image="{% if h.thumbnail %}{{ h.thumbnail.url }}{% else %}{% if h.carousel_slides.first %}{{ h.carousel_slides.first.image.url }}{% endif %}{% endif %}"
                data-hotel-tagline="{{ h.tagline }}"
                aria-selected="false"
              >
                <div class="hotel-name">{{ h.name }}</div>
                <p class="hotel-tagline">{{ h.tagline }}</p>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
        <div class="hotel-preview-section" aria-live="polite">
          <div id="hotel-preview" class="hotel-preview">
            <div class="hotel-preview-placeholder">
              <i class="fas fa-hotel" aria-hidden="true"></i>
              <p>Select a hotel to see preview</p>
            </div>
            <img
              id="hotel-preview-image"
              class="hotel-preview-image"
              src=""
              alt=""
              loading="lazy"
            />
            <div class="hotel-preview-info">
              <h3 id="preview-hotel-name"></h3>
              <p id="preview-hotel-tagline"></p>
              <a href="{{ h.slug }}" id="visit-hotel-link" class="visit-hotel-btn"
                >Visit Hotel</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Consent Banner -->
    <div
      id="consent-banner"
      class="consent-banner"
      role="alert"
      aria-live="polite"
      aria-label="Cookie consent banner"
    >
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h2 style="color: white; margin-bottom: 5px">Cookie Consent</h2>
            <p
              style="
                margin-bottom: 0;
                font-size: 14px;
                color: rgba(255, 255, 255, 0.9);
              "
            >
              We use cookies to enhance your experience, remember your
              preferences, and analyze site traffic. By clicking "Accept", you
              consent to our use of cookies.
              <a
                href="/cookie-policy"
                style="color: #ff7e5f; text-decoration: underline"
                >Learn more</a
              >
            </p>
          </div>
          <div class="col-md-4 text-end">
            <button
              id="consent-reject"
              class="btn btn-outline-light btn-sm me-2"
            >
              Reject
            </button>
            <button id="consent-accept" class="btn btn-primary btn-sm">
              Accept All
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- External Scripts -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <!-- SEO Optimization Script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // ======================
        // ENHANCED LAZY LOADING
        // ======================
        const LAZY_LOAD_CONFIG = {
          rootMargin: "50px 0px",
          threshold: 0.01,
        };

        // Lazy load images
        const lazyImages = document.querySelectorAll(
          'img[data-src], img[loading="lazy"]:not([data-src])'
        );

        if ("IntersectionObserver" in window) {
          const imageObserver = new IntersectionObserver(
            (entries, observer) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  const img = entry.target;

                  if (img.dataset.src) {
                    img.src = img.dataset.src;
                    img.removeAttribute("data-src");
                  }

                  img.classList.add("loaded");
                  observer.unobserve(img);
                }
              });
            },
            LAZY_LOAD_CONFIG
          );

          lazyImages.forEach((img) => {
            if (img.dataset.src && !img.src) {
              img.src =
                "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PC9zdmc+";
              img.classList.add("lazy-placeholder");
            }

            img.classList.add("lazy-loading");
            imageObserver.observe(img);

            // Fallback: load if near viewport
            const rect = img.getBoundingClientRect();
            if (rect.top < window.innerHeight + 100 && rect.bottom > -100) {
              if (img.dataset.src) {
                img.src = img.dataset.src;
                img.removeAttribute("data-src");
              }
              img.classList.add("loaded");
              imageObserver.unobserve(img);
            }
          });
        } else {
          lazyImages.forEach((img) => {
            if (img.dataset.src) {
              img.src = img.dataset.src;
            }
          });
        }

        // Lazy load background images
        const lazyBackgrounds = document.querySelectorAll("[data-bg]");
        lazyBackgrounds.forEach((el) => {
          if ("IntersectionObserver" in window) {
            const bgObserver = new IntersectionObserver((entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.style.backgroundImage = `url(${entry.target.dataset.bg})`;
                  entry.target.removeAttribute("data-bg");
                  bgObserver.unobserve(entry.target);
                }
              });
            }, LAZY_LOAD_CONFIG);
            bgObserver.observe(el);
          } else {
            el.style.backgroundImage = `url(${el.dataset.bg})`;
          }
        });

        // Lazy load iframes/videos
        const lazyIframes = document.querySelectorAll("iframe[data-src]");
        lazyIframes.forEach((iframe) => {
          if ("IntersectionObserver" in window) {
            const iframeObserver = new IntersectionObserver((entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.src = entry.target.dataset.src;
                  entry.target.removeAttribute("data-src");
                  iframeObserver.unobserve(entry.target);
                }
              });
            }, LAZY_LOAD_CONFIG);
            iframeObserver.observe(iframe);
          }
        });

        // ======================
        // CONSENT MANAGEMENT (keep existing)
        // ======================
        const consentBanner = document.getElementById("consent-banner");
        const consentAccept = document.getElementById("consent-accept");
        const consentReject = document.getElementById("consent-reject");

        if (!localStorage.getItem("cookieConsent")) {
          setTimeout(() => {
            consentBanner.style.display = "block";
          }, 1000);
        }

        consentAccept.addEventListener("click", function () {
          localStorage.setItem("cookieConsent", "accepted");
          consentBanner.style.display = "none";
        });

        consentReject.addEventListener("click", function () {
          localStorage.setItem("cookieConsent", "rejected");
          consentBanner.style.display = "none";
        });

        // ======================
        // HOTEL DROPDOWN (keep existing)
        // ======================
        const hotelsDropdownToggle = document.getElementById(
          "hotels-dropdown-toggle"
        );
        const hotelDropdownOverlay = document.getElementById(
          "hotelDropdownOverlay"
        );
        const hotelDropdownContainer = document.getElementById(
          "hotelDropdownContainer"
        );
        const closeHotelDropdown =
          document.getElementById("closeHotelDropdown");
        const hotelListItems = document.querySelectorAll(".hotel-list-item");
        const previewImage = document.getElementById("hotel-preview-image");
        const previewHotelName = document.getElementById("preview-hotel-name");
        const previewHotelTagline = document.getElementById(
          "preview-hotel-tagline"
        );
        const visitHotelLink = document.getElementById("visit-hotel-link");
        const previewPlaceholder = document.querySelector(
          ".hotel-preview-placeholder"
        );

        function openHotelDropdown() {
          hotelDropdownOverlay.style.display = "block";
          hotelDropdownContainer.style.display = "flex";
          setTimeout(() => {
            hotelDropdownOverlay.classList.add("show");
            hotelDropdownContainer.classList.add("show");
            hotelDropdownContainer.setAttribute("aria-hidden", "false");
          }, 10);
          document.body.style.overflow = "hidden";
        }

        function closeHotelDropdownFunc() {
          hotelDropdownOverlay.classList.remove("show");
          hotelDropdownContainer.classList.remove("show");
          setTimeout(() => {
            hotelDropdownOverlay.style.display = "none";
            hotelDropdownContainer.style.display = "none";
            hotelDropdownContainer.setAttribute("aria-hidden", "true");
          }, 300);
          document.body.style.overflow = "";
        }

        hotelsDropdownToggle.addEventListener("click", function (e) {
          e.preventDefault();
          openHotelDropdown();
        });

        hotelDropdownOverlay.addEventListener("click", closeHotelDropdownFunc);
        closeHotelDropdown.addEventListener("click", closeHotelDropdownFunc);

        document.addEventListener("keydown", function (e) {
          if (
            e.key === "Escape" &&
            hotelDropdownContainer.classList.contains("show")
          ) {
            closeHotelDropdownFunc();
          }
        });

        hotelListItems.forEach((item) => {
          item.addEventListener("mouseenter", function () {
            const imageUrl = this.getAttribute("data-hotel-image");
            const hotelName = this.getAttribute("data-hotel-name");
            const hotelTagline = this.getAttribute("data-hotel-tagline");
            const hotelSlug = this.getAttribute("data-hotel-slug");

            if (previewPlaceholder) {
              previewPlaceholder.style.display = "none";
            }

            if (imageUrl) {
              previewImage.src = imageUrl;
              previewImage.style.display = "block";
              previewImage.alt = `${hotelName} - Hotel Preview`;
            }

            previewHotelName.textContent = hotelName;
            previewHotelTagline.textContent = hotelTagline;
            visitHotelLink.href =
              "{% url 'home_with_slug' 'SLUG_PLACEHOLDER' %}".replace(
                "SLUG_PLACEHOLDER",
                hotelSlug
              );
            visitHotelLink.style.display = "inline-block";

            hotelListItems.forEach((i) => i.classList.remove("active"));
            this.classList.add("active");
            this.setAttribute("aria-selected", "true");
          });

          item.addEventListener("click", function (e) {
            e.preventDefault();
            window.location.href =
              "{% url 'home_with_slug' 'SLUG_PLACEHOLDER' %}".replace(
                "SLUG_PLACEHOLDER",
                this.getAttribute("data-hotel-slug")
              );
          });
        });

        visitHotelLink.addEventListener("click", function (e) {
          closeHotelDropdownFunc();
        });

        // ======================
        // SCHEMA MARKUP (keep existing)
        // ======================
        const currentPageSchema = {
          "@context": "https://schema.org",
          "@type": "WebPage",
          name: document.title,
          description:
            document.querySelector('meta[name="description"]')?.content || "",
          url: window.location.href,
          isPartOf: {
            "@type": "WebSite",
            name: "{{ hotel.name }}",
            url: "{% url 'home_with_slug' hotel.slug %}",
          },
        };

        const schemaScript = document.createElement("script");
        schemaScript.type = "application/ld+json";
        schemaScript.textContent = JSON.stringify(currentPageSchema);
        document.head.appendChild(schemaScript);
      });

      // ======================
      // SEO EVENT TRACKING (keep existing)
      // ======================
      document.addEventListener("click", function (e) {
        const link = e.target.closest("a");
        if (
          link &&
          link.href &&
          !link.href.includes(window.location.hostname)
        ) {
          console.log("Outbound link clicked:", link.href);
        }
      });

      // ======================
      // STRUCTURED DATA (keep existing)
      // ======================
      window.addEventListener("load", function () {
        const pageLoadSchema = {
          "@context": "https://schema.org",
          "@type": "WebPage",
          name: document.title,
          description:
            document.querySelector('meta[name="description"]')?.content || "",
          url: window.location.href,
          datePublished: new Date().toISOString(),
          dateModified: new Date().toISOString(),
        };

        const loadSchemaScript = document.createElement("script");
        loadSchemaScript.type = "application/ld+json";
        loadSchemaScript.textContent = JSON.stringify(pageLoadSchema);
        document.head.appendChild(loadSchemaScript);
      });

      // SEO event tracking for outbound links
      document.addEventListener("click", function (e) {
        const link = e.target.closest("a");
        if (
          link &&
          link.href &&
          !link.href.includes(window.location.hostname)
        ) {
          // Track outbound link click
          console.log("Outbound link clicked:", link.href);
        }
      });

      // Structured data for search
      window.addEventListener("load", function () {
        // Add page load schema
        const pageLoadSchema = {
          "@context": "https://schema.org",
          "@type": "WebPage",
          name: document.title,
          description:
            document.querySelector('meta[name="description"]')?.content || "",
          url: window.location.href,
          datePublished: new Date().toISOString(),
          dateModified: new Date().toISOString(),
        };

        const loadSchemaScript = document.createElement("script");
        loadSchemaScript.type = "application/ld+json";
        loadSchemaScript.textContent = JSON.stringify(pageLoadSchema);
        document.head.appendChild(loadSchemaScript);
      });

      // Add this to your existing script in base.html

      // 1. Section Animation on Scroll
      document.addEventListener("DOMContentLoaded", function () {
        // Animate sections on scroll
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("section-loaded");
              observer.unobserve(entry.target);
            }
          });
        }, observerOptions);

        // Observe all sections
        document
          .querySelectorAll("section, .animate-section")
          .forEach((section) => {
            section.classList.add("section-loading");
            observer.observe(section);
          });

        // 2. Mobile Carousel Auto-height
        const adjustCarouselHeight = () => {
          if (window.innerWidth < 768) {
            const activeItem = document.querySelector(
              ".carousel-item.active img"
            );
            if (activeItem) {
              const height = activeItem.offsetHeight;
              document.querySelector(".carousel-inner").style.height =
                height + "px";
            }
          }
        };

        window.addEventListener("resize", adjustCarouselHeight);
        adjustCarouselHeight();

        // 3. Smooth page transitions
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href");
            if (targetId === "#") return;

            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              window.scrollTo({
                top: targetElement.offsetTop - 80,
                behavior: "smooth",
              });
            }
          });
        });

        // 4. Loading bar for page transitions
        const loadingBar = document.createElement("div");
        loadingBar.className = "loading-bar";
        document.body.appendChild(loadingBar);

        window.addEventListener("load", () => {
          loadingBar.style.width = "100%";
          setTimeout(() => {
            loadingBar.style.opacity = "0";
            setTimeout(() => loadingBar.remove(), 300);
          }, 300);
        });
      });
    </script>

    {% block extra_js %}{% endblock %}
  </body>
</html>
